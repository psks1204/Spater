<div class="tvdetailbg2">
  <div class="tvDetailBg">
    <img class="img-fluid-bg" *ngIf="show?.poster_path" src="https://image.tmdb.org/t/p/original{{show?.backdrop_path}}" alt="{{show?.name}}"
    />
  </div>
</div>
<div class="detail-container">
  <div fxLayout='row' fxLayout.xs="column">
    <div fxFlex="70%" fxFlex.lt-sm="100%" class="tv-info">
      <h1 fxShow="false" fxShow.gt-sm>{{show?.name}}</h1>
      <h2 fxShow="false" fxShow.lt-md>{{show?.name}}</h2>
      <button mat-raised-button [matMenuTriggerFor]="menu">
        Season {{currentSeason}}
        <mat-icon>arrow_drop_down</mat-icon>
      </button>

      <mat-menu #menu="matMenu">
        <div *ngFor="let season of seasons; let i=index">
          <button mat-menu-item (click)="selectedSeason(i)">
            <span>Seasons {{season.season_number}}</span>
          </button>
        </div>
      </mat-menu>
      <span class="list-inline">
        <span class="list-inline-item">{{show?.last_air_date | date:'yyyy'}}</span>
        <span class="list-inline-item">{{show?.number_of_seasons}} Seasons</span>
      </span>

      <div fxShow="false" fxShow.lt-md  class="xs-detail">
        <div fxLayout='row'>
          <dt fxFlex="15%">
            <button mat-fab color="primary">
              <mat-icon aria-label="Play Icon to play video">play_arrow</mat-icon>
            </button>
          </dt>
          <span fxFlex="2%" fxFlex.xs="10%"></span>
          <dd fxFlex.xs="40%" fxFlex="25%">
            <h3>Play</h3>
            <mat-progress-bar mode="determinate" value="75"></mat-progress-bar>
          </dd>
        </div>
        <div fxLayout='row'>
          <h5 fxFlex="100%">
            By clicking play you agree to our Terms of Use.
          </h5>
        </div>
      </div>

      <p class="overview">{{seasonOverview}}</p>

      <div fxLayout='row' class="detail" fxLayout.xs="column">
        <dt fxFlex="15%" fxFlex.xs="100%">Genres</dt>
        <span fxFlex="5%" fxShow="false" fxShow.gt-xs></span>
        <dd fxFlex="40%" fxFlex.xs="100%">
          <span *ngFor="let genre of genres; let i=index"> &nbsp;{{genre.name}}</span>
        </dd>
      </div>
      <div fxLayout='row' class="detail" fxLayout.xs="column">
        <dt fxFlex="15%" fxFlex.xs="100%">Subtitle</dt>
        <span fxFlex="5%" fxShow="false" fxShow.gt-xs></span>
        <dd fxFlex="40%" fxFlex.xs="100%">
          <span>English [CC]</span>
        </dd>
      </div>
      <div fxLayout='row' class="detail" fxLayout.xs="column">
        <dt fxFlex="15%" fxFlex.xs="100%">Language</dt>
        <span fxFlex="5%" fxShow="false" fxShow.gt-xs></span>
        <dd fxFlex="40%" fxFlex.xs="100%">
          <span>{{show?.original_language}}</span>
        </dd>
      </div>

      <div fxShow="false" fxShow.gt-sm>
        <div fxLayout='row'>
          <dt fxFlex.xs="15%" fxFlex="10%">
            <button mat-fab color="primary">
              <mat-icon aria-label="Play Icon to play video">play_arrow</mat-icon>
            </button>
          </dt>
          <span fxFlex="2%" fxFlex.xs="10%"></span>
          <dd fxFlex.xs="40%" fxFlex="25%">
            <h3>Play</h3>
            <mat-progress-bar mode="determinate" value="75"></mat-progress-bar>
          </dd>
        </div>
        <div fxLayout='row' class="detail">
          <h5 fxFlex="100%">
            By clicking play you agree to our Terms of Use.
          </h5>
        </div>
      </div>
    </div>

    <div fxFlex="30%" fxShow="false" fxShow.gt-xs>
      <img class="img-fluid" *ngIf="show?.poster_path" src="https://image.tmdb.org/t/p/w500{{season?.poster_path}}" alt="{{show?.name}}">
    </div>

  </div>
  <h3>Episodes:</h3>
  <mat-divider color="primary"></mat-divider>
  <div class="episode-detail">

    <!--for xs screen 
    <mat-accordion fxShow="false" fxShow.lt-md>
      <mat-expansion-panel *ngFor="let episode of episodes; let i = index">
        <mat-expansion-panel-header>
          <mat-panel-title>
            {{episode?.episode_number}}.
          </mat-panel-title>
          <mat-panel-description>
            {{episode?.name}}
          </mat-panel-description>
        </mat-expansion-panel-header>
        <div fxLayout="row">
          <div fxFlex="20%">
            <img class="img-detail-episode" src="https://image.tmdb.org/t/p/w500{{episode?.still_path}}" alt="{{episode?.name}}">
          </div>
          <div fxFlex="5%"></div>
          <div fxFlex="70%">
            <div fxLayout='row'>
              <dt fxFlex.xs="15%" fxFlex="10%">
                <button mat-mini-fab color="primary">
                  <mat-icon aria-label="Play Icon to play video">play_arrow</mat-icon>
                </button>
              </dt>
              <span fxFlex="2%" fxFlex.xs="10%"></span>
              <dd fxFlex="80%">
                <span class="episode-list-inline">
                  <span class="episode-list-inline-item">{{episode?.air_date}}</span>
                  <span class="episode-list-inline-item">45 Min</span>
                </span>
              </dd>
            </div>
            <p fxShow="false" fxShow.gt-sm>{{episode?.overview}}</p>
          </div>
        </div> 
      </mat-expansion-panel>
    </mat-accordion>-->

    <!--for MD & SM screen < fxShow="false" fxShow.gt-sm>for first div-->
    <div *ngFor="let episode of episodes; let i = index">
      <div fxLayout="row" class="md-episode">
        <div fxFlex="20%">
          <img class="img-fluid" src="https://image.tmdb.org/t/p/w500{{episode?.still_path}}" alt="{{episode?.name}}">
        </div>
        <div fxFlex="5%"></div>
        <div fxFlex="70%">
          <div fxLayout='row'>
            <dt fxFlex.xs="15%" fxFlex="10%">
              <button mat-mini-fab color="primary">
                <mat-icon aria-label="Play Icon to play video">play_arrow</mat-icon>
              </button>
            </dt>
            <span fxFlex="2%" fxFlex.xs="10%"></span>
            <dd fxFlex="80%">
              <span class="episode-list-inline">
                <span class="episode-list-inline-item" fxShow="false" fxShow.gt-xs><h2>{{episode?.episode_number}}. {{episode?.name}}</h2></span>
                <span class="episode-list-inline-item" fxShow="false" fxShow.lt-sm><h4>{{episode?.episode_number}}. {{episode?.name}}</h4></span>
                <span class="episode-list-inline-item">{{episode?.air_date}}</span>
                <span class="episode-list-inline-item">45 Min</span>
              </span>
            </dd>
          </div>
          <p fxShow="false" fxShow.gt-sm>{{episode?.overview}}</p>
        </div>
      </div>
      <mat-divider color="primary"></mat-divider>
    </div>

  </div>
</div>